==== RUN-DOCKER
+++ dirname -- ./worker/run.sh
++ cd -- ./worker
++ pwd
+ twcrdir=/twcr/worker/..
+ repo=github.com/MystenLabs/sui
+ reporef=main
+ repopath=./dapps/kiosk
+ grep -q '^././'
++ echo github.com/MystenLabs/sui
++ sha256sum
++ awk '{ print $1 }'
++ cut -c1-12
+ procdir=/tmp/twcr-3776c1a125b1
++ echo 'github.com/MystenLabs/sui;main;./dapps/kiosk'
++ sha256sum
++ awk '{ print $1 }'
++ cut -c1-12
+ datadir=/twcr/worker/../mnt/dataset/data/a38c9c884117
+ '[' '!' -z /twcr/mnt/results ']'
+ datadir=/twcr/mnt/results
+ touch /twcr/mnt/results/extract-failed
++ base64
++ tr -d =
++ tr /+ _-
++ base64
++ tr -d =
++ tr /+ _-
+ writetaskstat analysis_key github.com/MystenLabs/sui/bWFpbgo/Li9kYXBwcy9raW9zawo
+ jq -nc --arg key analysis_key --arg value github.com/MystenLabs/sui/bWFpbgo/Li9kYXBwcy9raW9zawo '{ key: $key, value: $value }'
++ date -u +%Y%m%d%H%M%S
++ sha256sum
++ awk '{ print $1 }'
++ cut -c1-16
++ head -c 32 /dev/urandom
+ writetaskstat analysis_nonce 9c70c51f76461aac
+ jq -nc --arg key analysis_nonce --arg value 9c70c51f76461aac '{ key: $key, value: $value }'
+ writetaskstat input_repo_name github.com/MystenLabs/sui
+ jq -nc --arg key input_repo_name --arg value github.com/MystenLabs/sui '{ key: $key, value: $value }'
+ writetaskstat input_repo_ref main
+ jq -nc --arg key input_repo_ref --arg value main '{ key: $key, value: $value }'
+ writetaskstat input_repo_path ./dapps/kiosk
+ jq -nc --arg key input_repo_path --arg value ./dapps/kiosk '{ key: $key, value: $value }'
++ date -u +%Y-%m-%dT%H:%M:%SZ
+ writetaskstat timestamp_begin 2024-03-03T15:42:13Z
+ jq -nc --arg key timestamp_begin --arg value 2024-03-03T15:42:13Z '{ key: $key, value: $value }'
+ mkdir -p /tmp/twcr-3776c1a125b1
+ pushd /tmp/twcr-3776c1a125b1
+ '[' -d .git ']'
+ git clone --depth=1 -b main https://github.com/MystenLabs/sui.git .
/tmp/twcr-3776c1a125b1 /twcr
Cloning into '.'...
Updating files:  41% (5148/12293)Updating files:  42% (5164/12293)Updating files:  43% (5286/12293)Updating files:  44% (5409/12293)Updating files:  45% (5532/12293)Updating files:  46% (5655/12293)Updating files:  47% (5778/12293)Updating files:  48% (5901/12293)Updating files:  49% (6024/12293)Updating files:  50% (6147/12293)Updating files:  51% (6270/12293)Updating files:  52% (6393/12293)Updating files:  53% (6516/12293)Updating files:  54% (6639/12293)Updating files:  55% (6762/12293)Updating files:  56% (6885/12293)Updating files:  57% (7008/12293)Updating files:  58% (7130/12293)Updating files:  59% (7253/12293)Updating files:  60% (7376/12293)Updating files:  61% (7499/12293)Updating files:  62% (7622/12293)Updating files:  63% (7745/12293)Updating files:  64% (7868/12293)Updating files:  65% (7991/12293)Updating files:  66% (8114/12293)Updating files:  67% (8237/12293)Updating files:  68% (8360/12293)Updating files:  69% (8483/12293)Updating files:  70% (8606/12293)Updating files:  71% (8729/12293)Updating files:  72% (8851/12293)Updating files:  73% (8974/12293)Updating files:  74% (9097/12293)Updating files:  75% (9220/12293)Updating files:  76% (9343/12293)Updating files:  77% (9466/12293)Updating files:  78% (9589/12293)Updating files:  79% (9712/12293)Updating files:  80% (9835/12293)Updating files:  81% (9958/12293)Updating files:  82% (10081/12293)Updating files:  83% (10204/12293)Updating files:  84% (10327/12293)Updating files:  85% (10450/12293)Updating files:  86% (10572/12293)Updating files:  87% (10695/12293)Updating files:  88% (10818/12293)Updating files:  88% (10893/12293)Updating files:  89% (10941/12293)Updating files:  90% (11064/12293)Updating files:  91% (11187/12293)Updating files:  92% (11310/12293)Updating files:  93% (11433/12293)Updating files:  94% (11556/12293)Updating files:  95% (11679/12293)Updating files:  96% (11802/12293)Updating files:  97% (11925/12293)Updating files:  98% (12048/12293)Updating files:  99% (12171/12293)Updating files: 100% (12293/12293)Updating files: 100% (12293/12293), done.
++ date -u +%Y-%m-%dT%H:%M:%SZ
+ writetaskstat timestamp_git_clone_complete 2024-03-03T15:42:20Z
+ jq -nc --arg key timestamp_git_clone_complete --arg value 2024-03-03T15:42:20Z '{ key: $key, value: $value }'
++ git rev-parse HEAD
+ writetaskstat exec_repo_commit_sha 20cf56fd91c31677425d1dc6e5292124e5a2628a
+ jq -nc --arg key exec_repo_commit_sha --arg value 20cf56fd91c31677425d1dc6e5292124e5a2628a '{ key: $key, value: $value }'
+++ git show --no-patch --format=%ci
++ date -u --date '2024-03-03 16:43:51 +0200' +%Y-%m-%dT%H:%M:%SZ
+ writetaskstat exec_repo_commit_date 2024-03-03T14:43:51Z
+ jq -nc --arg key exec_repo_commit_date --arg value 2024-03-03T14:43:51Z '{ key: $key, value: $value }'
+ '[' -z ./dapps/kiosk ']'
+ pushd ./dapps/kiosk
+ tailwind_config_file_name=
+ '[' -f tailwind.config.js ']'
+ tailwind_config_file_name=tailwind.config.js
+ writetaskstat exec_tailwind_config_file tailwind.config.js
+ jq -nc --arg key exec_tailwind_config_file --arg value tailwind.config.js '{ key: $key, value: $value }'
/tmp/twcr-3776c1a125b1/dapps/kiosk /tmp/twcr-3776c1a125b1 /twcr
+ cp tailwind.config.js /twcr/mnt/results/extract-raw-tailwind-config.js
+ '[' '!' -f package.json ']'
+ cp package.json /twcr/mnt/results/extract-raw-package.json
++ /twcr/worker/../worker/pm-detect.sh /tmp/twcr-3776c1a125b1/dapps/kiosk
+ package_manager_name=pnpm
+ '[' -z pnpm ']'
+ '[' -z pnpm ']'
+ writetaskstat exec_node_package_manager pnpm
+ jq -nc --arg key exec_node_package_manager --arg value pnpm '{ key: $key, value: $value }'
+ attempt_mode=squash
+ true
++ date -u +%Y-%m-%dT%H:%M:%SZ
+ writetaskstat timestamp_attempt_squash_begin 2024-03-03T15:42:20Z
+ jq -nc --arg key timestamp_attempt_squash_begin --arg value 2024-03-03T15:42:20Z '{ key: $key, value: $value }'
+ [[ squash == \s\q\u\a\s\h ]]
+ set +e
+ node /twcr/worker/../worker/squash-package.mjs tailwind.config.js
+ exitcode=0
+ set -e
+ [[ 0 != \0 ]]
+ cat package.json
+ sed 's/^/>>> /'
>>> {
>>>   "name": "kiosk-demo",
>>>   "private": true,
>>>   "version": "0.0.10",
>>>   "type": "module",
>>>   "dependencies": {},
>>>   "devDependencies": {
>>>     "@headlessui/tailwindcss": "^0.1.3",
>>>     "tailwindcss": "^3.3.3"
>>>   }
>>> }+ set +e
+ /twcr/worker/../worker/pm-install.sh pnpm /tmp/twcr-3776c1a125b1 /twcr/mnt/results
+ package_manager_name=pnpm
+ procdir=/tmp/twcr-3776c1a125b1
+ datadir=/twcr/mnt/results
+ case "${package_manager_name}" in
+ '[' '!' -f /tmp/twcr-3776c1a125b1/package.json ']'
++ pnpm -v
+ sed -Ei 's/("pnpm": ")(.+)(")/\18.15.4\3/' /tmp/twcr-3776c1a125b1/package.json
+ '[' '!' -f package.json ']'
++ pnpm -v
+ sed -Ei 's/("pnpm": ")(.+)(")/\18.15.4\3/' package.json
+ pnpm install
Scope: all 28 workspace projects
../..                                    | Progress: resolved 0, reused 0, downloaded 1, added 0
../..                                    | Progress: resolved 49, reused 0, downloaded 49, added 0
../..                                    | Progress: resolved 114, reused 0, downloaded 114, added 0
../..                                    | Progress: resolved 159, reused 0, downloaded 159, added 0
../..                                    | Progress: resolved 210, reused 0, downloaded 210, added 0
../..                                    | Progress: resolved 246, reused 0, downloaded 246, added 0
../..                                    | Progress: resolved 249, reused 0, downloaded 249, added 0
../..                                    | Progress: resolved 249, reused 0, downloaded 250, added 0
../..                                    | Progress: resolved 301, reused 0, downloaded 285, added 0
../..                                    | Progress: resolved 367, reused 0, downloaded 351, added 0
../..                                    | Progress: resolved 435, reused 0, downloaded 419, added 0
../..                                    | Progress: resolved 485, reused 0, downloaded 469, added 0
../..                                    | Progress: resolved 536, reused 0, downloaded 520, added 0
../..                                    | Progress: resolved 604, reused 0, downloaded 588, added 0
../..                                    | Progress: resolved 667, reused 0, downloaded 651, added 0
../..                                    | Progress: resolved 732, reused 0, downloaded 716, added 0
../..                                    | Progress: resolved 804, reused 0, downloaded 788, added 0
../..                                    | Progress: resolved 873, reused 0, downloaded 857, added 0
../..                                    | Progress: resolved 941, reused 0, downloaded 925, added 0
../..                                    | Progress: resolved 1000, reused 0, downloaded 984, added 0
../..                                    | Progress: resolved 1065, reused 0, downloaded 1050, added 0
../..                                    | Progress: resolved 1129, reused 0, downloaded 1114, added 0
../..                                    | Progress: resolved 1194, reused 0, downloaded 1179, added 0
../..                                    | Progress: resolved 1262, reused 0, downloaded 1247, added 0
../..                                    | Progress: resolved 1322, reused 0, downloaded 1307, added 0
../..                                    | Progress: resolved 1393, reused 0, downloaded 1378, added 0
../..                                    | Progress: resolved 1463, reused 0, downloaded 1390, added 0
../..                                    | Progress: resolved 1518, reused 0, downloaded 1438, added 0
../..                                    | Progress: resolved 1578, reused 0, downloaded 1499, added 0
../..                                    | Progress: resolved 1605, reused 0, downloaded 1526, added 0
../..                                    | Progress: resolved 1661, reused 0, downloaded 1582, added 0
../..                                    | Progress: resolved 1718, reused 0, downloaded 1639, added 0
../..                                    | Progress: resolved 1756, reused 0, downloaded 1677, added 0
../..                                    | Progress: resolved 1775, reused 0, downloaded 1696, added 0
../..                                    | Progress: resolved 1820, reused 0, downloaded 1741, added 0
../..                                    | Progress: resolved 1874, reused 0, downloaded 1795, added 0
../..                                    | Progress: resolved 1913, reused 0, downloaded 1834, added 0
../..                                    | Progress: resolved 1936, reused 0, downloaded 1856, added 0
../..                                    | Progress: resolved 1964, reused 0, downloaded 1885, added 0
../..                                    | Progress: resolved 1991, reused 0, downloaded 1912, added 0
../..                                    | Progress: resolved 2002, reused 0, downloaded 1923, added 0
../..                                    | Progress: resolved 2002, reused 0, downloaded 1925, added 0
../..                                    | Progress: resolved 2016, reused 0, downloaded 1939, added 0
../..                                    | Progress: resolved 2047, reused 0, downloaded 1970, added 0
../..                                    | Progress: resolved 2059, reused 0, downloaded 1982, added 0
../..                                    | Progress: resolved 2078, reused 0, downloaded 2001, added 0
../..                                    | Progress: resolved 2103, reused 0, downloaded 2026, added 0
../..                                    | Progress: resolved 2131, reused 0, downloaded 2054, added 0
../..                                    | Progress: resolved 2158, reused 0, downloaded 2081, added 0
../..                                    | Progress: resolved 2177, reused 0, downloaded 2100, added 0
../..                                    | Progress: resolved 2210, reused 0, downloaded 2133, added 0
../..                                    | Progress: resolved 2249, reused 0, downloaded 2160, added 0
../..                                    | Progress: resolved 2269, reused 0, downloaded 2180, added 0
../..                                    | Progress: resolved 2285, reused 0, downloaded 2198, added 0
../..                                    | Progress: resolved 2302, reused 0, downloaded 2216, added 0
../..                                    | Progress: resolved 2318, reused 0, downloaded 2232, added 0
../..                                    | Progress: resolved 2331, reused 0, downloaded 2245, added 0
../..                                    | Progress: resolved 2378, reused 0, downloaded 2270, added 0
../..                                    | Progress: resolved 2393, reused 0, downloaded 2284, added 0
../..                                    | Progress: resolved 2415, reused 0, downloaded 2307, added 0
../..                                    | Progress: resolved 2441, reused 0, downloaded 2334, added 0
../..                                    | Progress: resolved 2469, reused 0, downloaded 2362, added 0
../..                                    | Progress: resolved 2494, reused 0, downloaded 2388, added 0
../..                                    | Progress: resolved 2526, reused 0, downloaded 2420, added 0
../..                                    | Progress: resolved 2571, reused 0, downloaded 2466, added 0
../..                                    | Progress: resolved 2630, reused 0, downloaded 2525, added 0
../..                                    | Progress: resolved 2678, reused 0, downloaded 2573, added 0
../..                                    | Progress: resolved 2731, reused 0, downloaded 2626, added 0
../..                                    | Progress: resolved 2778, reused 0, downloaded 2673, added 0
../..                                    | Progress: resolved 2840, reused 0, downloaded 2735, added 0
../..                                    | Progress: resolved 2899, reused 0, downloaded 2795, added 0
 WARN  4 deprecated subdependencies found: @babel/plugin-proposal-object-rest-spread@7.20.7, har-validator@5.1.5, request@2.88.2, uuid@3.4.0
../..                                    | Progress: resolved 2913, reused 0, downloaded 2809, added 0
../..                                    |    +2824 ++++++++++++++++++++++++++++
../..                                    | Progress: resolved 2913, reused 0, downloaded 2809, added 1
../..                                    | Progress: resolved 2913, reused 0, downloaded 2809, added 1889
../..                                    | Progress: resolved 2913, reused 0, downloaded 2809, added 2819
../..                                    | Progress: resolved 2913, reused 0, downloaded 2809, added 2824, done
.../node_modules/core-js-pure postinstall$ node -e "try{require('./postinstall')}catch(e){}"
.../node_modules/spawn-sync postinstall$ node postinstall
.../node_modules/@sentry/cli install$ node ./scripts/install.js
.../core-js@3.29.0/node_modules/core-js postinstall$ node -e "try{require('./postinstall')}catch(e){}"
.../@napi-rs/simple-git-linux-x64-gnu postinstall$ node install.js
.../node_modules/spawn-sync postinstall: Done
.../@napi-rs/simple-git-linux-x64-musl postinstall$ node install.js
.../node_modules/core-js-pure postinstall: Thank you for using core-js ( https://github.com/zloirock/core-js ) for polyfilling JavaScript standard library!
.../node_modules/core-js-pure postinstall: The project needs your help! Please consider supporting core-js:
.../node_modules/core-js-pure postinstall: > https://opencollective.com/core-js 
.../node_modules/core-js-pure postinstall: > https://patreon.com/zloirock 
.../node_modules/core-js-pure postinstall: > https://boosty.to/zloirock 
.../node_modules/core-js-pure postinstall: > bitcoin: bc1qlea7544qtsmj2rayg0lthvza9fau63ux0fstcz 
.../node_modules/core-js-pure postinstall: I highly recommend reading this: https://github.com/zloirock/core-js/blob/master/docs/2023-02-14-so-whats-next.md 
.../node_modules/core-js-pure postinstall: Done
.../core-js@3.29.0/node_modules/core-js postinstall: Thank you for using core-js ( https://github.com/zloirock/core-js ) for polyfilling JavaScript standard library!
.../core-js@3.29.0/node_modules/core-js postinstall: The project needs your help! Please consider supporting of core-js:
.../core-js@3.29.0/node_modules/core-js postinstall: > https://opencollective.com/core-js 
.../core-js@3.29.0/node_modules/core-js postinstall: > https://patreon.com/zloirock 
.../core-js@3.29.0/node_modules/core-js postinstall: > https://boosty.to/zloirock 
.../core-js@3.29.0/node_modules/core-js postinstall: > bitcoin: bc1qlea7544qtsmj2rayg0lthvza9fau63ux0fstcz 
.../core-js@3.29.0/node_modules/core-js postinstall: I highly recommend reading this: https://github.com/zloirock/core-js/blob/master/docs/2023-02-14-so-whats-next.md 
.../core-js@3.29.0/node_modules/core-js postinstall: Done
.../@napi-rs/simple-git-linux-x64-gnu postinstall: Done
.../node_modules/wasm-pack postinstall$ node ./install.js
.../@napi-rs/simple-git-linux-x64-musl postinstall: Failed
.../node_modules/@sentry/cli install: info sentry-cli Downloading from https://downloads.sentry-cdn.com/sentry-cli/1.74.6/sentry-cli-Linux-x86_64
.../node_modules/@sentry/cli install: info sentry-cli Using proxy URL: http://tid_998715877833:ok@172.18.0.2:3128
.../node_modules/@sentry/cli install: (node:130) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
.../node_modules/@sentry/cli install: (Use `node --trace-deprecation ...` to show where the warning was created)
.../node_modules/wasm-pack postinstall: Downloading release from https://github.com/rustwasm/wasm-pack/releases/download/v0.12.1/wasm-pack-v0.12.1-x86_64-unknown-linux-musl.tar.gz
.../node_modules/@sentry/cli install: fetching sentry-cli-Linux-x86_64 1%
.../node_modules/@sentry/cli install: fetching sentry-cli-Linux-x86_64 2%
.../node_modules/@sentry/cli install: fetching sentry-cli-Linux-x86_64 3%
.../node_modules/@sentry/cli install: fetching sentry-cli-Linux-x86_64 4%
.../node_modules/@sentry/cli install: fetching sentry-cli-Linux-x86_64 5%
.../node_modules/@sentry/cli install: fetching sentry-cli-Linux-x86_64 6%
.../node_modules/@sentry/cli install: fetching sentry-cli-Linux-x86_64 7%
.../node_modules/@sentry/cli install: fetching sentry-cli-Linux-x86_64 8%
.../node_modules/@sentry/cli install: fetching sentry-cli-Linux-x86_64 9%
.../node_modules/@sentry/cli install: fetching sentry-cli-Linux-x86_64 10%
.../node_modules/@sentry/cli install: fetching sentry-cli-Linux-x86_64 11%
.../node_modules/@sentry/cli install: fetching sentry-cli-Linux-x86_64 12%
.../node_modules/@sentry/cli install: fetching sentry-cli-Linux-x86_64 13%
.../node_modules/@sentry/cli install: fetching sentry-cli-Linux-x86_64 14%
.../node_modules/@sentry/cli install: fetching sentry-cli-Linux-x86_64 15%
.../node_modules/@sentry/cli install: fetching sentry-cli-Linux-x86_64 16%
.../node_modules/@sentry/cli install: fetching sentry-cli-Linux-x86_64 17%
.../node_modules/@sentry/cli install: fetching sentry-cli-Linux-x86_64 18%
.../node_modules/@sentry/cli install: fetching sentry-cli-Linux-x86_64 19%
.../node_modules/wasm-pack postinstall: Error fetching release: write EPROTO 00687F47B17F0000:error:0A00010B:SSL routines:ssl3_get_record:wrong version number:../deps/openssl/openssl/ssl/record/ssl3_record.c:354:
.../node_modules/@sentry/cli install: fetching sentry-cli-Linux-x86_64 20%
.../node_modules/wasm-pack postinstall: Failed
 ELIFECYCLE  Command failed with exit code 1.
.../node_modules/@sentry/cli install: fetching sentry-cli-Linux-x86_64 21%
.../node_modules/@sentry/cli install: fetching sentry-cli-Linux-x86_64 22%
.../node_modules/@sentry/cli install: fetching sentry-cli-Linux-x86_64 23%
.../node_modules/@sentry/cli install: fetching sentry-cli-Linux-x86_64 24%
.../node_modules/@sentry/cli install: fetching sentry-cli-Linux-x86_64 25%
.../node_modules/@sentry/cli install: fetching sentry-cli-Linux-x86_64 26%
+ exitcode=1
+ set -e
+ [[ 1 != \0 ]]
+ [[ squash == \s\q\u\a\s\h ]]
+ echo '[worker] WARN: package manager failed; retrying with full install'
[worker] WARN: package manager failed; retrying with full install
+ attempt_mode=full
+ continue
+ true
++ date -u +%Y-%m-%dT%H:%M:%SZ
+ writetaskstat timestamp_attempt_full_begin 2024-03-03T15:43:43Z
+ jq -nc --arg key timestamp_attempt_full_begin --arg value 2024-03-03T15:43:43Z '{ key: $key, value: $value }'
+ [[ full == \s\q\u\a\s\h ]]
+ git checkout .
Updated 1 path from the index
+ git clean -fdx
Removing node_modules/
+ set +e
+ /twcr/worker/../worker/pm-install.sh pnpm /tmp/twcr-3776c1a125b1 /twcr/mnt/results
+ package_manager_name=pnpm
+ procdir=/tmp/twcr-3776c1a125b1
+ datadir=/twcr/mnt/results
+ case "${package_manager_name}" in
+ '[' '!' -f /tmp/twcr-3776c1a125b1/package.json ']'
++ pnpm -v
+ sed -Ei 's/("pnpm": ")(.+)(")/\18.15.4\3/' /tmp/twcr-3776c1a125b1/package.json
+ '[' '!' -f package.json ']'
++ pnpm -v
+ sed -Ei 's/("pnpm": ")(.+)(")/\18.15.4\3/' package.json
+ pnpm install
Scope: all 28 workspace projects
../..                                    | Progress: resolved 1, reused 0, downloaded 0, added 0
../..                                    |    +2824 ++++++++++++++++++++++++++++
../..                                    | Progress: resolved 2824, reused 717, downloaded 0, added 0
../..                                    | Progress: resolved 2824, reused 2342, downloaded 0, added 0
../..                                    | Progress: resolved 2824, reused 2809, downloaded 0, added 0, done
.../@napi-rs/simple-git-linux-x64-musl postinstall$ node install.js
.../node_modules/@sentry/cli install$ node ./scripts/install.js
.../node_modules/wasm-pack postinstall$ node ./install.js
.../@napi-rs/simple-git-linux-x64-musl postinstall: Failed
.../node_modules/@sentry/cli install: info sentry-cli Downloading from https://downloads.sentry-cdn.com/sentry-cli/1.74.6/sentry-cli-Linux-x86_64
.../node_modules/@sentry/cli install: info sentry-cli Using proxy URL: http://tid_998715877833:ok@172.18.0.2:3128
.../node_modules/wasm-pack postinstall: Downloading release from https://github.com/rustwasm/wasm-pack/releases/download/v0.12.1/wasm-pack-v0.12.1-x86_64-unknown-linux-musl.tar.gz
.../node_modules/@sentry/cli install: (node:252) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
.../node_modules/@sentry/cli install: (Use `node --trace-deprecation ...` to show where the warning was created)
.../node_modules/wasm-pack postinstall: Error fetching release: write EPROTO 004829645C7F0000:error:0A00010B:SSL routines:ssl3_get_record:wrong version number:../deps/openssl/openssl/ssl/record/ssl3_record.c:354:
.../node_modules/wasm-pack postinstall: Failed
 ELIFECYCLE  Command failed with exit code 1.
+ exitcode=1
+ set -e
+ [[ 1 != \0 ]]
+ [[ full == \s\q\u\a\s\h ]]
+ exit 1
