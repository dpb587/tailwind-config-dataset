==== RUN-DOCKER
+++ dirname -- ./worker/run.sh
++ cd -- ./worker
++ pwd
+ twcrdir=/twcr/worker/..
+ repo=github.com/tecsinapse/design-system
+ reporef=develop
+ repopath=./
+ '[' true == true ']'
+ grep -q '^././'
++ echo github.com/tecsinapse/design-system
++ awk '{ print $1 }'
++ sha256sum
++ cut -c1-12
+ procdir=/tmp/twcr-98d3be74dfa8
++ echo 'github.com/tecsinapse/design-system;develop;./'
++ sha256sum
++ awk '{ print $1 }'
++ cut -c1-12
+ datadir=/twcr/worker/../mnt/dataset/data/885bd07cd6e3
+ '[' '!' -z /twcr/mnt/results ']'
+ datadir=/twcr/mnt/results
+ touch /twcr/mnt/results/extract-failed
++ base64
++ tr -d =
++ tr /+ _-
++ base64
++ tr -d =
++ tr /+ _-
+ writetaskstat analysis_key github.com/tecsinapse/design-system/ZGV2ZWxvcAo/Li8K
+ jq -nc --arg key analysis_key --arg value github.com/tecsinapse/design-system/ZGV2ZWxvcAo/Li8K '{ key: $key, value: $value }'
++ date -u +%Y%m%d%H%M%S
++ sha256sum
++ awk '{ print $1 }'
++ cut -c1-16
++ head -c 32 /dev/urandom
+ writetaskstat analysis_nonce 9d5ba3812255b6f9
+ jq -nc --arg key analysis_nonce --arg value 9d5ba3812255b6f9 '{ key: $key, value: $value }'
+ writetaskstat input_repo_name github.com/tecsinapse/design-system
+ jq -nc --arg key input_repo_name --arg value github.com/tecsinapse/design-system '{ key: $key, value: $value }'
+ writetaskstat input_repo_ref develop
+ jq -nc --arg key input_repo_ref --arg value develop '{ key: $key, value: $value }'
+ writetaskstat input_repo_path ./
+ jq -nc --arg key input_repo_path --arg value ./ '{ key: $key, value: $value }'
++ date -u +%Y-%m-%dT%H:%M:%SZ
+ writetaskstat timestamp_begin 2024-03-05T12:31:53Z
+ jq -nc --arg key timestamp_begin --arg value 2024-03-05T12:31:53Z '{ key: $key, value: $value }'
+ mkdir -p /tmp/twcr-98d3be74dfa8
/tmp/twcr-98d3be74dfa8 /twcr
+ pushd /tmp/twcr-98d3be74dfa8
+ '[' -d .git ']'
+ git clone --depth=1 -b develop https://github.com/tecsinapse/design-system.git .
Cloning into '.'...
++ date -u +%Y-%m-%dT%H:%M:%SZ
+ writetaskstat timestamp_git_clone_complete 2024-03-05T12:31:54Z
+ jq -nc --arg key timestamp_git_clone_complete --arg value 2024-03-05T12:31:54Z '{ key: $key, value: $value }'
++ git rev-parse HEAD
+ writetaskstat exec_repo_commit_sha 945e4d39ab8ed18c688d442d7ae4889f2c348124
+ jq -nc --arg key exec_repo_commit_sha --arg value 945e4d39ab8ed18c688d442d7ae4889f2c348124 '{ key: $key, value: $value }'
+++ git show --no-patch --format=%ci
++ date -u --date '2024-02-15 09:05:42 -0400' +%Y-%m-%dT%H:%M:%SZ
+ writetaskstat exec_repo_commit_date 2024-02-15T13:05:42Z
+ jq -nc --arg key exec_repo_commit_date --arg value 2024-02-15T13:05:42Z '{ key: $key, value: $value }'
/tmp/twcr-98d3be74dfa8 /tmp/twcr-98d3be74dfa8 /twcr
+ '[' -z ./ ']'
+ pushd ./
+ tailwind_config_file_name=
+ '[' -f tailwind.config.js ']'
+ tailwind_config_file_name=tailwind.config.js
+ writetaskstat exec_tailwind_config_file tailwind.config.js
+ jq -nc --arg key exec_tailwind_config_file --arg value tailwind.config.js '{ key: $key, value: $value }'
+ cp tailwind.config.js /twcr/mnt/results/extract-raw-tailwind-config.js
+ '[' '!' -f package.json ']'
+ cp package.json /twcr/mnt/results/extract-raw-package.json
++ /twcr/worker/../worker/pm-detect.sh /tmp/twcr-98d3be74dfa8
+ package_manager_name=yarn
+ '[' -z yarn ']'
+ '[' -z yarn ']'
+ writetaskstat exec_node_package_manager yarn
+ jq -nc --arg key exec_node_package_manager --arg value yarn '{ key: $key, value: $value }'
+ attempt_mode=squash
+ true
++ date -u +%Y-%m-%dT%H:%M:%SZ
+ writetaskstat timestamp_attempt_squash_begin 2024-03-05T12:31:54Z
+ jq -nc --arg key timestamp_attempt_squash_begin --arg value 2024-03-05T12:31:54Z '{ key: $key, value: $value }'
+ [[ squash == \s\q\u\a\s\h ]]
+ set +e
+ node /twcr/worker/../worker/squash-package.mjs tailwind.config.js
[squash-package] ERROR: failed to find any match for import path (@tecsinapse/cortex-core/src/preset)
+ exitcode=1
+ set -e
+ [[ 1 != \0 ]]
+ echo '[worker] WARN: squash failed; retrying with full install'
[worker] WARN: squash failed; retrying with full install
+ attempt_mode=full
+ continue
+ true
++ date -u +%Y-%m-%dT%H:%M:%SZ
+ writetaskstat timestamp_attempt_full_begin 2024-03-05T12:31:54Z
+ jq -nc --arg key timestamp_attempt_full_begin --arg value 2024-03-05T12:31:54Z '{ key: $key, value: $value }'
+ [[ full == \s\q\u\a\s\h ]]
+ git clean -fdx
+ git reset --hard
HEAD is now at 945e4d3 Merge pull request #169 from tecsinapse/dependabot/npm_and_yarn/npm_and_yarn-security-group-0e48b4d8df
+ set +e
+ /twcr/worker/../worker/pm-install.sh yarn /tmp/twcr-98d3be74dfa8 /twcr/mnt/results
+ package_manager_name=yarn
+ procdir=/tmp/twcr-98d3be74dfa8
+ datadir=/twcr/mnt/results
+ case "${package_manager_name}" in
+ '[' -z http://tid_d9d4a902efdf:ok@172.18.0.2:3128 ']'
+ yarn config set httpProxy http://tid_d9d4a902efdf:ok@172.18.0.2:3128
yarn config v1.22.19
success Set "httpProxy" to "http://tid_d9d4a902efdf:ok@172.18.0.2:3128".
Done in 0.04s.
+ '[' -z http://tid_d9d4a902efdf:ok@172.18.0.2:3128 ']'
+ yarn config set httpsProxy http://tid_d9d4a902efdf:ok@172.18.0.2:3128
yarn config v1.22.19
success Set "httpsProxy" to "http://tid_d9d4a902efdf:ok@172.18.0.2:3128".
Done in 0.04s.
+ yarn install
yarn install v1.22.19
[1/5] Validating package.json...
[2/5] Resolving packages...
[3/5] Fetching packages...
(node:132) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
warning tailwind-variants@0.1.18: The engine "pnpm" appears to be invalid.
[4/5] Linking dependencies...
warning "react-native > @react-native/codegen@0.72.7" has unmet peer dependency "@babel/preset-env@^7.1.6".
warning "react-native > @react-native/codegen > jscodeshift@0.14.0" has unmet peer dependency "@babel/preset-env@^7.1.6".
warning "react-native > @react-native-community/cli > @react-native-community/cli-plugin-metro > metro-react-native-babel-transformer@0.76.8" has unmet peer dependency "@babel/core@*".
warning " > @tecsinapse/react-charts@1.3.5" has unmet peer dependency "react-native-svg@>=12.0.0".
warning " > @tecsinapse/react-core@3.3.5" has incorrect peer dependency "react-native@^0.71.0".
warning " > @tecsinapse/react-native-kit@3.3.7" has incorrect peer dependency "react-native@^0.71.0".
warning " > @tecsinapse/react-native-kit@3.3.7" has unmet peer dependency "react-native-linear-gradient@^2.5.6".
warning " > @tecsinapse/react-native-kit@3.3.7" has unmet peer dependency "react-native-safe-area-context@^4.0.0".
warning "workspace-aggregator-a9c7cdc6-e5c1-416a-a321-5471a627e3c4 > @tecsinapse/react-charts > react-native-svg-charts@5.4.0" has incorrect peer dependency "react-native-svg@^6.2.1||^7.0.3".
warning "workspace-aggregator-a9c7cdc6-e5c1-416a-a321-5471a627e3c4 > @tecsinapse/rn-playground > react-native-reanimated@3.3.0" has unmet peer dependency "@babel/plugin-proposal-nullish-coalescing-operator@^7.0.0-0".
warning "workspace-aggregator-a9c7cdc6-e5c1-416a-a321-5471a627e3c4 > @tecsinapse/rn-playground > react-native-reanimated@3.3.0" has unmet peer dependency "@babel/plugin-proposal-optional-chaining@^7.0.0-0".
warning "workspace-aggregator-a9c7cdc6-e5c1-416a-a321-5471a627e3c4 > @tecsinapse/rn-playground > react-native-reanimated@3.3.0" has unmet peer dependency "@babel/plugin-transform-arrow-functions@^7.0.0-0".
warning "workspace-aggregator-a9c7cdc6-e5c1-416a-a321-5471a627e3c4 > @tecsinapse/rn-playground > react-native-reanimated@3.3.0" has unmet peer dependency "@babel/plugin-transform-shorthand-properties@^7.0.0-0".
warning "workspace-aggregator-a9c7cdc6-e5c1-416a-a321-5471a627e3c4 > @tecsinapse/rn-playground > react-native-reanimated@3.3.0" has unmet peer dependency "@babel/plugin-transform-template-literals@^7.0.0-0".
warning "workspace-aggregator-a9c7cdc6-e5c1-416a-a321-5471a627e3c4 > @tecsinapse/rn-playground > @storybook/react@6.5.16" has unmet peer dependency "require-from-string@^2.0.2".
warning "workspace-aggregator-a9c7cdc6-e5c1-416a-a321-5471a627e3c4 > @tecsinapse/rn-playground > babel-loader@9.1.2" has unmet peer dependency "webpack@>=5".
warning "workspace-aggregator-a9c7cdc6-e5c1-416a-a321-5471a627e3c4 > @tecsinapse/rn-playground > @storybook/addon-actions > react-inspector@5.1.1" has incorrect peer dependency "react@^16.8.4 || ^17.0.0".
warning "workspace-aggregator-a9c7cdc6-e5c1-416a-a321-5471a627e3c4 > @tecsinapse/rn-playground > @storybook/react > react-element-to-jsx-string@14.3.4" has incorrect peer dependency "react@^0.14.8 || ^15.0.1 || ^16.0.0 || ^17.0.1".
warning "workspace-aggregator-a9c7cdc6-e5c1-416a-a321-5471a627e3c4 > @tecsinapse/rn-playground > @storybook/react > react-element-to-jsx-string@14.3.4" has incorrect peer dependency "react-dom@^0.14.8 || ^15.0.1 || ^16.0.0 || ^17.0.1".
warning "workspace-aggregator-a9c7cdc6-e5c1-416a-a321-5471a627e3c4 > @tecsinapse/rn-playground > @storybook/react-native > @storybook/core-client@6.5.15" has unmet peer dependency "webpack@*".
warning "workspace-aggregator-a9c7cdc6-e5c1-416a-a321-5471a627e3c4 > @tecsinapse/rn-playground > @storybook/addon-essentials > @storybook/addon-docs > @mdx-js/react@1.6.22" has incorrect peer dependency "react@^16.13.1 || ^17.0.0".
[5/5] Building fresh packages...
$ husky install && yarn bootstrap
husky - Git hooks installed
yarn run v1.22.19
$ yarn build
$ rimraf -rf packages/*/dist/
$ lerna run --stream 'build:es'
(node:447) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
lerna notice cli v7.3.0
lerna info versioning independent

 >  Lerna (powered by Nx)   Running target build:es for 6 projects:

    - @tecsinapse/cortex-core
    - @tecsinapse/react-charts
    - @tecsinapse/react-core
    - @tecsinapse/react-lab
    - @tecsinapse/react-native-kit
    - @tecsinapse/react-web-kit

 

> @tecsinapse/react-core:"build:es"


> @tecsinapse/cortex-core:"build:es"


> @tecsinapse/react-charts:"build:es"

@tecsinapse/cortex-core: [2K[1G@tecsinapse/cortex-core: [2m$ rollup --config[22m
@tecsinapse/react-core: [2K[1G@tecsinapse/react-core: [2m$ rollup --config[22m
@tecsinapse/react-charts: [2K[1G[2m$ rollup --config[22m
@tecsinapse/cortex-core: [36m
@tecsinapse/cortex-core: [1m./src/index.ts[22m â†’ [1mdist/esm, dist/cjs[22m...[39m
@tecsinapse/react-charts: [36m
@tecsinapse/react-charts: [1m./src/index.ts[22m â†’ [1mdist/esm, dist/cjs[22m...[39m
@tecsinapse/react-core: [36m
@tecsinapse/react-core: [1m./src/index.ts[22m â†’ [1mdist/esm, dist/cjs[22m...[39m
@tecsinapse/cortex-core: [1m[33m(!) Unresolved dependencies[39m[22m
@tecsinapse/cortex-core: [90mhttps://rollupjs.org/troubleshooting/#warning-treating-module-as-external-dependency[39m
@tecsinapse/cortex-core: [1mclsx[22m (imported by "src/components/input/input.ts")
@tecsinapse/cortex-core: [32mcreated [1mdist/esm, dist/cjs[22m in [1m180ms[22m[39m
@tecsinapse/react-charts: [1m[33m(!) Unresolved dependencies[39m[22m
@tecsinapse/react-charts: [90mhttps://rollupjs.org/troubleshooting/#warning-treating-module-as-external-dependency[39m
@tecsinapse/react-charts: [1mreact-native-svg[22m (imported by "src/components/PieChart/PieChart.tsx")
@tecsinapse/react-charts: [1mreact-native-svg-charts[22m (imported by "src/components/PieChart/PieChart.tsx")
@tecsinapse/react-charts: [32mcreated [1mdist/esm, dist/cjs[22m in [1m190ms[22m[39m

> @tecsinapse/react-lab:"build:es"

@tecsinapse/react-core: [1m[33m(!) Unresolved dependencies[39m[22m
@tecsinapse/react-core: [90mhttps://rollupjs.org/troubleshooting/#warning-treating-module-as-external-dependency[39m
@tecsinapse/react-core: [1mreact-native-vector-icons/dist/MaterialIcons[22m (imported by "src/components/atoms/Icon/Material.tsx")
@tecsinapse/react-core: [1mreact-native-vector-icons/dist/SimpleLineIcons[22m (imported by "src/components/atoms/Icon/SimpleLine.tsx")
@tecsinapse/react-core: [1mreact-native-vector-icons/dist/Fontisto[22m (imported by "src/components/atoms/Icon/Fontisto.tsx")
@tecsinapse/react-core: [1mreact-native-vector-icons/dist/AntDesign[22m (imported by "src/components/atoms/Icon/AntDesign.tsx")
@tecsinapse/react-core: [1mreact-native-vector-icons/dist/Feather[22m (imported by "src/components/atoms/Icon/Feather.tsx")
@tecsinapse/react-core: [1mreact-native-vector-icons/dist/FontAwesome5[22m (imported by "src/components/atoms/Icon/FontAwesomeFive.tsx")
@tecsinapse/react-core: [1mreact-native-vector-icons/dist/EvilIcons[22m (imported by "src/components/atoms/Icon/Evil.tsx")
@tecsinapse/react-core: [1mreact-native-vector-icons/dist/FontAwesome[22m (imported by "src/components/atoms/Icon/FontAwesome.tsx")
@tecsinapse/react-core: [1mreact-native-vector-icons/dist/Entypo[22m (imported by "src/components/atoms/Icon/Entypo.tsx")
@tecsinapse/react-core: [1mreact-native-vector-icons/dist/Ionicons[22m (imported by "src/components/atoms/Icon/Ionicon.tsx")
@tecsinapse/react-core: [1mreact-native-vector-icons/dist/Foundation[22m (imported by "src/components/atoms/Icon/Foundation.tsx")
@tecsinapse/react-core: [1mreact-native-vector-icons/dist/MaterialCommunityIcons[22m (imported by "src/components/atoms/Icon/MaterialCommunity.tsx")
@tecsinapse/react-core: [1mreact-native-vector-icons/dist/Zocial[22m (imported by "src/components/atoms/Icon/Zocial.tsx")
@tecsinapse/react-core: [1mreact-native-vector-icons/dist/Octicons[22m (imported by "src/components/atoms/Icon/Octicon.tsx")
@tecsinapse/react-core: [32mcreated [1mdist/esm, dist/cjs[22m in [1m640ms[22m[39m

> @tecsinapse/react-native-kit:"build:es"


> @tecsinapse/react-web-kit:"build:es"

@tecsinapse/react-lab: [2K[1G@tecsinapse/react-lab: [2m$ rollup --config[22m
@tecsinapse/react-lab: [36m
@tecsinapse/react-lab: [1m./src/index.ts[22m â†’ [1mdist/esm, dist/cjs[22m...[39m
@tecsinapse/react-lab: [32mcreated [1mdist/esm, dist/cjs[22m in [1m66ms[22m[39m
@tecsinapse/react-native-kit: [2K[1G@tecsinapse/react-native-kit: [2m$ rollup --config[22m
@tecsinapse/react-web-kit: [2K[1G@tecsinapse/react-web-kit: [2m$ rollup --config[22m
@tecsinapse/react-native-kit: [36m
@tecsinapse/react-native-kit: [1m./src/index.ts[22m â†’ [1mdist/esm, dist/cjs[22m...[39m
@tecsinapse/react-web-kit: [36m
@tecsinapse/react-web-kit: [1m./src/index.ts[22m â†’ [1mdist/esm, dist/cjs[22m...[39m
@tecsinapse/react-native-kit: [1m[33m(!) Unresolved dependencies[39m[22m
@tecsinapse/react-native-kit: [90mhttps://rollupjs.org/troubleshooting/#warning-treating-module-as-external-dependency[39m
@tecsinapse/react-native-kit: [1mdate-fns[22m (imported by "src/components/molecules/ScrollableSelector/components/DateBlock.tsx")
@tecsinapse/react-native-kit: [32mcreated [1mdist/esm, dist/cjs[22m in [1m489ms[22m[39m
@tecsinapse/react-web-kit: [1m[33m(!) Circular dependency[39m[22m
@tecsinapse/react-web-kit: src/components/molecules/DateTimePickerSelector/components/index.ts -> src/components/molecules/DateTimePickerSelector/components/ScrollableDigit.tsx -> src/components/molecules/DateTimePickerSelector/components/index.ts
@tecsinapse/react-web-kit: [32mcreated [1mdist/esm, dist/cjs[22m in [1m649ms[22m[39m

 

 >  Lerna (powered by Nx)   Successfully ran target build:es for 6 projects


$ yarn build:declarations
$ lerna run 'build:declaration'
(node:878) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
lerna notice cli v7.3.0
lerna info versioning independent

 >  Lerna (powered by Nx)   Running target build:declaration for 6 projects:

    - @tecsinapse/cortex-core
    - @tecsinapse/react-charts
    - @tecsinapse/react-core
    - @tecsinapse/react-lab
    - @tecsinapse/react-native-kit
    - @tecsinapse/react-web-kit

 

> @tecsinapse/react-charts:"build:declaration"

[2K[1G[2m$ tsc --project tsconfig.build.json[22m

> @tecsinapse/cortex-core:"build:declaration"

[2K[1G[2m$ tsc --project tsconfig.build.json[22m

> @tecsinapse/react-core:"build:declaration"

[2K[1G[2m$ tsc --project tsconfig.build.json[22m

> @tecsinapse/react-lab:"build:declaration"

[2K[1G[2m$ tsc --project tsconfig.build.json[22m

> @tecsinapse/react-native-kit:"build:declaration"

[2K[1G[2m$ tsc --project tsconfig.build.json[22m

> @tecsinapse/react-web-kit:"build:declaration"

[2K[1G[2m$ tsc --project tsconfig.build.json[22m

 

 >  Lerna (powered by Nx)   Successfully ran target build:declaration for 6 projects


Done in 19.74s.
Done in 271.04s.
+ jq -cr '
        [.. | .name?]
        | map(select(.))
        | map(capture("^(?<name>@?[^@]+)@(?<version>.+)$"))
        | sort_by(.name)[]'
+ yarn list --depth=0 --json --non-interactive --no-progress
+ exitcode=0
+ set -e
+ [[ 0 != \0 ]]
++ jq -sr 'map(select(.name == "tailwindcss")) | first | .version'
+ tailwind_package_version=3.3.5
+ tailwind_config_exporter=tailwind.config.exporter2.cjs
+ '[' -f node_modules/tailwindcss/lib/lib/load-config.js ']'
+ tailwind_config_exporter=tailwind.config.exporter3.mjs
+ cp /twcr/worker/../worker/tailwind.config.exporter3.mjs ./
+ set +e
+ node ./tailwind.config.exporter3.mjs tailwind.config.js
+ exitcode=0
+ set -e
+ [[ 0 != \0 ]]
+ echo 'module.exports={plugins:['
+ jq -rs '
        map(select(.name | startswith("@tailwindcss/")))
        | map("require(" + ( .name | tojson ) + "),")[]
      '
+ grep -Ev '"@tailwindcss/postcss7-compat"'
+ true
+ echo ']}'
+ cat tailwind.config.js
+ sed 's/^/>>> /'
>>> module.exports={plugins:[
>>> ]}
+ node ./tailwind.config.exporter3.mjs tailwind.config.js
++ date -u +%Y-%m-%dT%H:%M:%SZ
+ writetaskstat timestamp_attempt_full_end 2024-03-05T12:36:28Z
+ jq -nc --arg key timestamp_attempt_full_end --arg value 2024-03-05T12:36:28Z '{ key: $key, value: $value }'
+ break
++ date -u +%Y-%m-%dT%H:%M:%SZ
+ writetaskstat timestamp_end 2024-03-05T12:36:28Z
+ jq -nc --arg key timestamp_end --arg value 2024-03-05T12:36:28Z '{ key: $key, value: $value }'
+ rm /twcr/mnt/results/extract-failed
+ touch /twcr/mnt/results/extract-completed
