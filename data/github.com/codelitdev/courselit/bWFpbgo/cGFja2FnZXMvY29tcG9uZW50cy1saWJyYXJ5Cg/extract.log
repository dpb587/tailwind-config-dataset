==== RUN-DOCKER
+++ dirname -- ./worker/run.sh
++ cd -- ./worker
++ pwd
+ twcrdir=/twcr/worker/..
+ repo=github.com/codelitdev/courselit
+ reporef=main
+ repopath=./packages/components-library
+ '[' true == true ']'
+ grep -q '^././'
++ echo github.com/codelitdev/courselit
++ sha256sum
++ awk '{ print $1 }'
++ cut -c1-12
+ procdir=/tmp/twcr-9f277a0c7b97
++ echo 'github.com/codelitdev/courselit;main;./packages/components-library'
++ sha256sum
++ awk '{ print $1 }'
++ cut -c1-12
+ datadir=/twcr/worker/../mnt/dataset/data/90c6ad8fecb3
+ '[' '!' -z /twcr/mnt/results ']'
+ datadir=/twcr/mnt/results
+ touch /twcr/mnt/results/extract-failed
++ base64
++ tr -d =
++ tr /+ _-
++ base64
++ tr -d =
++ tr /+ _-
+ writetaskstat analysis_key github.com/codelitdev/courselit/bWFpbgo/Li9wYWNrYWdlcy9jb21wb25lbnRzLWxpYnJhcnkK
+ jq -nc --arg key analysis_key --arg value github.com/codelitdev/courselit/bWFpbgo/Li9wYWNrYWdlcy9jb21wb25lbnRzLWxpYnJhcnkK '{ key: $key, value: $value }'
++ date -u +%Y%m%d%H%M%S
++ sha256sum
++ awk '{ print $1 }'
++ cut -c1-16
++ head -c 32 /dev/urandom
+ writetaskstat analysis_nonce 3a1af6a908be5187
+ jq -nc --arg key analysis_nonce --arg value 3a1af6a908be5187 '{ key: $key, value: $value }'
+ writetaskstat input_repo_name github.com/codelitdev/courselit
+ jq -nc --arg key input_repo_name --arg value github.com/codelitdev/courselit '{ key: $key, value: $value }'
+ writetaskstat input_repo_ref main
+ jq -nc --arg key input_repo_ref --arg value main '{ key: $key, value: $value }'
+ writetaskstat input_repo_path ./packages/components-library
+ jq -nc --arg key input_repo_path --arg value ./packages/components-library '{ key: $key, value: $value }'
++ date -u +%Y-%m-%dT%H:%M:%SZ
+ writetaskstat timestamp_begin 2024-03-05T00:41:15Z
+ jq -nc --arg key timestamp_begin --arg value 2024-03-05T00:41:15Z '{ key: $key, value: $value }'
+ mkdir -p /tmp/twcr-9f277a0c7b97
/tmp/twcr-9f277a0c7b97 /twcr
+ pushd /tmp/twcr-9f277a0c7b97
+ '[' -d .git ']'
+ git clone --depth=1 -b main https://github.com/codelitdev/courselit.git .
Cloning into '.'...
++ date -u +%Y-%m-%dT%H:%M:%SZ
+ writetaskstat timestamp_git_clone_complete 2024-03-05T00:41:48Z
+ jq -nc --arg key timestamp_git_clone_complete --arg value 2024-03-05T00:41:48Z '{ key: $key, value: $value }'
++ git rev-parse HEAD
+ writetaskstat exec_repo_commit_sha 8e2b3addc804621de464ec8c38d9d36f2d29bb53
+ jq -nc --arg key exec_repo_commit_sha --arg value 8e2b3addc804621de464ec8c38d9d36f2d29bb53 '{ key: $key, value: $value }'
+++ git show --no-patch --format=%ci
++ date -u --date '2024-02-24 13:00:16 +0530' +%Y-%m-%dT%H:%M:%SZ
+ writetaskstat exec_repo_commit_date 2024-02-24T07:30:16Z
+ jq -nc --arg key exec_repo_commit_date --arg value 2024-02-24T07:30:16Z '{ key: $key, value: $value }'
+ '[' -z ./packages/components-library ']'
+ pushd ./packages/components-library
+ tailwind_config_file_name=
+ '[' -f tailwind.config.js ']'
+ tailwind_config_file_name=tailwind.config.js
+ writetaskstat exec_tailwind_config_file tailwind.config.js
+ jq -nc --arg key exec_tailwind_config_file --arg value tailwind.config.js '{ key: $key, value: $value }'
/tmp/twcr-9f277a0c7b97/packages/components-library /tmp/twcr-9f277a0c7b97 /twcr
+ cp tailwind.config.js /twcr/mnt/results/extract-raw-tailwind-config.js
+ '[' '!' -f package.json ']'
+ cp package.json /twcr/mnt/results/extract-raw-package.json
++ /twcr/worker/../worker/pm-detect.sh /tmp/twcr-9f277a0c7b97/packages/components-library
+ package_manager_name=yarn
+ '[' -z yarn ']'
+ '[' -z yarn ']'
+ writetaskstat exec_node_package_manager yarn
+ jq -nc --arg key exec_node_package_manager --arg value yarn '{ key: $key, value: $value }'
+ attempt_mode=squash
+ true
++ date -u +%Y-%m-%dT%H:%M:%SZ
+ writetaskstat timestamp_attempt_squash_begin 2024-03-05T00:41:48Z
+ jq -nc --arg key timestamp_attempt_squash_begin --arg value 2024-03-05T00:41:48Z '{ key: $key, value: $value }'
+ [[ squash == \s\q\u\a\s\h ]]
+ set +e
+ node /twcr/worker/../worker/squash-package.mjs tailwind.config.js
[squash-package] ERROR: failed to find any match for import path (tailwindcss)
+ exitcode=1
+ set -e
+ [[ 1 != \0 ]]
+ echo '[worker] WARN: squash failed; retrying with full install'
[worker] WARN: squash failed; retrying with full install
+ attempt_mode=full
+ continue
+ true
++ date -u +%Y-%m-%dT%H:%M:%SZ
+ writetaskstat timestamp_attempt_full_begin 2024-03-05T00:41:49Z
+ jq -nc --arg key timestamp_attempt_full_begin --arg value 2024-03-05T00:41:49Z '{ key: $key, value: $value }'
+ [[ full == \s\q\u\a\s\h ]]
+ git clean -fdx
+ git reset --hard
HEAD is now at 8e2b3ad v0.44.0
+ set +e
+ /twcr/worker/../worker/pm-install.sh yarn /tmp/twcr-9f277a0c7b97 /twcr/mnt/results
+ package_manager_name=yarn
+ procdir=/tmp/twcr-9f277a0c7b97
+ datadir=/twcr/mnt/results
+ case "${package_manager_name}" in
+ '[' -z http://tid_82bccc2ef150:ok@172.18.0.2:3128 ']'
+ yarn config set httpProxy http://tid_82bccc2ef150:ok@172.18.0.2:3128
➤ YN0000: Successfully set httpProxy to 'http://tid_82bccc2ef150:ok@172.18.0.2:3128'
+ '[' -z http://tid_82bccc2ef150:ok@172.18.0.2:3128 ']'
+ yarn config set httpsProxy http://tid_82bccc2ef150:ok@172.18.0.2:3128
➤ YN0000: Successfully set httpsProxy to 'http://tid_82bccc2ef150:ok@172.18.0.2:3128'
+ yarn install
➤ YN0000: ┌ Resolution step
➤ YN0002: │ @courselit/common-widgets@workspace:packages/common-widgets doesn't provide eslint (p26fdc), requested by eslint-config-standard
➤ YN0002: │ @courselit/common-widgets@workspace:packages/common-widgets doesn't provide eslint (p7eb6f), requested by eslint-plugin-n
➤ YN0002: │ @courselit/common-widgets@workspace:packages/common-widgets doesn't provide eslint (p68a03), requested by eslint-plugin-promise
➤ YN0002: │ @courselit/common-widgets@workspace:packages/common-widgets doesn't provide eslint-plugin-import (p1890a), requested by eslint-config-standard
➤ YN0060: │ @courselit/common-widgets@workspace:packages/common-widgets provides typescript (p6b190) with version 5.1.6, which doesn't satisfy what tsup requests
➤ YN0002: │ @courselit/common-widgets@workspace:packages/common-widgets [e06e3] doesn't provide eslint (p78e5a), requested by eslint-config-standard
➤ YN0002: │ @courselit/common-widgets@workspace:packages/common-widgets [e06e3] doesn't provide eslint (p23210), requested by eslint-plugin-n
➤ YN0002: │ @courselit/common-widgets@workspace:packages/common-widgets [e06e3] doesn't provide eslint (p3d86d), requested by eslint-plugin-promise
➤ YN0002: │ @courselit/common-widgets@workspace:packages/common-widgets [e06e3] doesn't provide eslint-plugin-import (p18c2a), requested by eslint-config-standard
➤ YN0060: │ @courselit/common-widgets@workspace:packages/common-widgets [e06e3] provides typescript (p12366) with version 5.1.6, which doesn't satisfy what tsup requests
➤ YN0002: │ @courselit/components-library@workspace:packages/components-library doesn't provide tailwindcss (p2215e), requested by tailwindcss-animate
➤ YN0060: │ @courselit/components-library@workspace:packages/components-library provides typescript (p2b921) with version 5.1.6, which doesn't satisfy what tsup requests
➤ YN0002: │ @courselit/components-library@workspace:packages/components-library [4ad4c] doesn't provide tailwindcss (p5a5ac), requested by tailwindcss-animate
➤ YN0060: │ @courselit/components-library@workspace:packages/components-library [4ad4c] provides typescript (p6b7ad) with version 5.1.6, which doesn't satisfy what tsup requests
➤ YN0002: │ @courselit/components-library@workspace:packages/components-library [e06e3] doesn't provide tailwindcss (pe7bfe), requested by tailwindcss-animate
➤ YN0060: │ @courselit/components-library@workspace:packages/components-library [e06e3] provides typescript (p9eefc) with version 5.1.6, which doesn't satisfy what tsup requests
➤ YN0002: │ @courselit/icons@workspace:packages/icons doesn't provide react (p9a7e5), requested by @radix-ui/react-icons
➤ YN0060: │ @courselit/icons@workspace:packages/icons provides typescript (p452b6) with version 5.1.6, which doesn't satisfy what tsup requests
➤ YN0002: │ @courselit/state-management@workspace:packages/state-management doesn't provide next (p9b310), requested by @courselit/utils
➤ YN0002: │ @courselit/state-management@workspace:packages/state-management doesn't provide next (p50f6e), requested by next-redux-wrapper
➤ YN0002: │ @courselit/state-management@workspace:packages/state-management doesn't provide react (pa1281), requested by next-redux-wrapper
➤ YN0002: │ @courselit/state-management@workspace:packages/state-management doesn't provide react (p2f26e), requested by react-redux
➤ YN0002: │ @courselit/text-editor@workspace:packages/text-editor doesn't provide react-dom (pe0a00), requested by @remirror/react
➤ YN0002: │ @courselit/text-editor@workspace:packages/text-editor doesn't provide react-dom (p14764), requested by @remirror/react-editors
➤ YN0002: │ @courselit/text-editor@workspace:packages/text-editor [30ea7] doesn't provide react-dom (p2f0f6), requested by @remirror/react
➤ YN0002: │ @courselit/text-editor@workspace:packages/text-editor [30ea7] doesn't provide react-dom (p7067d), requested by @remirror/react-editors
➤ YN0002: │ @courselit/text-editor@workspace:packages/text-editor [3633f] doesn't provide react-dom (pd46c7), requested by @remirror/react
➤ YN0002: │ @courselit/text-editor@workspace:packages/text-editor [3633f] doesn't provide react-dom (pd23f6), requested by @remirror/react-editors
➤ YN0060: │ @courselit/utils@workspace:packages/utils provides typescript (p41515) with version 5.1.6, which doesn't satisfy what tsup requests
➤ YN0060: │ @courselit/utils@workspace:packages/utils [172d1] provides typescript (pd545b) with version 5.1.6, which doesn't satisfy what tsup requests
➤ YN0060: │ @courselit/utils@workspace:packages/utils [e06e3] provides typescript (p0ab67) with version 5.1.6, which doesn't satisfy what tsup requests
➤ YN0002: │ @courselit/web@workspace:apps/web doesn't provide @remirror/pm (p55b81), requested by remirror
➤ YN0060: │ @courselit/web@workspace:apps/web provides next (p41df7) with version 14.0.4, which doesn't satisfy what next-auth requests
➤ YN0060: │ @courselit/web@workspace:apps/web provides prettier (p3cfa7) with version 3.0.2, which doesn't satisfy what remirror and some of its descendants request
➤ YN0060: │ @courselit/web@workspace:apps/web provides react (p49841) with version 18.2.0, which doesn't satisfy what @courselit/components-library and some of its descendants request
➤ YN0002: │ @docsearch/react@npm:3.2.1 [ef8f1] doesn't provide @algolia/client-search (p2c3e7), requested by @algolia/autocomplete-preset-algolia
➤ YN0002: │ @remirror/react-utils@npm:2.0.7 [8b956] doesn't provide @remirror/pm (pbeefe), requested by @remirror/core-types
➤ YN0002: │ @remirror/react-utils@npm:2.0.7 [c07e5] doesn't provide @remirror/pm (p36a93), requested by @remirror/core-types
➤ YN0002: │ @remirror/react-utils@npm:2.0.7 [fd138] doesn't provide @remirror/pm (peeba0), requested by @remirror/core-types
➤ YN0002: │ @remirror/react@npm:2.0.35 [219f5] doesn't provide @remirror/pm (p3559c), requested by @remirror/extension-positioner
➤ YN0002: │ @remirror/react@npm:2.0.35 [219f5] doesn't provide @remirror/pm (p34289), requested by @remirror/extension-placeholder
➤ YN0002: │ @remirror/react@npm:2.0.35 [219f5] doesn't provide @remirror/pm (p7804d), requested by @remirror/react-components
➤ YN0002: │ @remirror/react@npm:2.0.35 [219f5] doesn't provide @remirror/pm (p04980), requested by @remirror/react-core
➤ YN0002: │ @remirror/react@npm:2.0.35 [219f5] doesn't provide @remirror/pm (p90a85), requested by @remirror/react-hooks
➤ YN0002: │ @remirror/react@npm:2.0.35 [219f5] doesn't provide @remirror/pm (pd764a), requested by @remirror/extension-react-component
➤ YN0002: │ @remirror/react@npm:2.0.35 [219f5] doesn't provide @remirror/pm (p20f58), requested by @remirror/preset-react
➤ YN0002: │ @remirror/react@npm:2.0.35 [219f5] doesn't provide @remirror/pm (pe7a0a), requested by @remirror/extension-react-tables
➤ YN0002: │ @remirror/react@npm:2.0.35 [7ebbf] doesn't provide @remirror/pm (pd69c4), requested by @remirror/extension-positioner
➤ YN0002: │ @remirror/react@npm:2.0.35 [7ebbf] doesn't provide @remirror/pm (p4c118), requested by @remirror/extension-placeholder
➤ YN0002: │ @remirror/react@npm:2.0.35 [7ebbf] doesn't provide @remirror/pm (pa197d), requested by @remirror/react-components
➤ YN0002: │ @remirror/react@npm:2.0.35 [7ebbf] doesn't provide @remirror/pm (p72a42), requested by @remirror/react-core
➤ YN0002: │ @remirror/react@npm:2.0.35 [7ebbf] doesn't provide @remirror/pm (p0b01b), requested by @remirror/react-hooks
➤ YN0002: │ @remirror/react@npm:2.0.35 [7ebbf] doesn't provide @remirror/pm (pbf58d), requested by @remirror/extension-react-component
➤ YN0002: │ @remirror/react@npm:2.0.35 [7ebbf] doesn't provide @remirror/pm (p68e90), requested by @remirror/preset-react
➤ YN0002: │ @remirror/react@npm:2.0.35 [7ebbf] doesn't provide @remirror/pm (p4f5ae), requested by @remirror/extension-react-tables
➤ YN0002: │ @remirror/react@npm:2.0.35 [de439] doesn't provide @remirror/pm (p06b62), requested by @remirror/extension-positioner
➤ YN0002: │ @remirror/react@npm:2.0.35 [de439] doesn't provide @remirror/pm (p33f75), requested by @remirror/react-components
➤ YN0002: │ @remirror/react@npm:2.0.35 [de439] doesn't provide @remirror/pm (pf1e2a), requested by @remirror/react-core
➤ YN0002: │ @remirror/react@npm:2.0.35 [de439] doesn't provide @remirror/pm (pc4d20), requested by @remirror/react-hooks
➤ YN0002: │ @remirror/react@npm:2.0.35 [de439] doesn't provide @remirror/pm (p973c1), requested by @remirror/extension-placeholder
➤ YN0002: │ @remirror/react@npm:2.0.35 [de439] doesn't provide @remirror/pm (pc15ee), requested by @remirror/extension-react-component
➤ YN0002: │ @remirror/react@npm:2.0.35 [de439] doesn't provide @remirror/pm (pc469b), requested by @remirror/preset-react
➤ YN0002: │ @remirror/react@npm:2.0.35 [de439] doesn't provide @remirror/pm (p45149), requested by @remirror/extension-react-tables
➤ YN0002: │ @remirror/theme@npm:2.0.9 doesn't provide @remirror/pm (p5deac), requested by @remirror/core-types
➤ YN0002: │ multishift@npm:2.0.9 [6866a] doesn't provide @remirror/pm (p9f76a), requested by @remirror/core-types
➤ YN0002: │ multishift@npm:2.0.9 [8b956] doesn't provide @remirror/pm (pf24c5), requested by @remirror/core-types
➤ YN0002: │ multishift@npm:2.0.9 [a8507] doesn't provide @remirror/pm (p49ec9), requested by @remirror/core-types
➤ YN0000: │ Some peer dependencies are incorrectly met; run yarn explain peer-requirements <hash> for details, where <hash> is the six-letter p-prefixed code
➤ YN0000: └ Completed in 0s 337ms
➤ YN0000: ┌ Fetch step
➤ YN0000: └ Completed in 0s 918ms
➤ YN0000: ┌ Link step
➤ YN0007: │ esbuild@npm:0.14.54 must be built because it never has been before or the last one failed
➤ YN0007: │ esbuild@npm:0.18.20 must be built because it never has been before or the last one failed
➤ YN0007: │ sharp@npm:0.33.2 must be built because it never has been before or the last one failed
➤ YN0007: │ esbuild@npm:0.17.19 must be built because it never has been before or the last one failed
➤ YN0007: │ esbuild@npm:0.15.10 must be built because it never has been before or the last one failed
➤ YN0007: │ msgpackr-extract@npm:3.0.2 must be built because it never has been before or the last one failed
➤ YN0000: └ Completed in 31s 248ms
➤ YN0000: Done with warnings in 32s 753ms
+ yarn list --depth=0 --json --non-interactive --no-progress
+ jq -cr '
        [.. | .name?]
        | map(select(.))
        | map(capture("^(?<name>@?[^@]+)@(?<version>.+)$"))
        | sort_by(.name)[]'
jq: parse error: Invalid numeric literal at line 1, column 6
+ exitcode=5
+ set -e
+ [[ 5 != \0 ]]
+ [[ full == \s\q\u\a\s\h ]]
+ exit 5
